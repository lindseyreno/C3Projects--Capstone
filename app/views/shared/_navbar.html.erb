<nav class='navbar navbar-default'>
  <div class='container-fluid'>
    <div class='navbar-header'>
      <%= link_to 'My Seattle Events', root_path, class: 'navbar-brand' %>
    </div>
    <div class='collapse navbar-collapse'>
      <ul class='nav navbar-nav navbar-right'>
        <% if session[:user_id].nil? %>
          <li class='dropdown'>
            <a href='#' class='dropdown-toggle' data-toggle='dropdown'><b>Sign Up</b><span class='caret'></span></a>
            <ul class='sign-dp dropdown-menu'>
              <li>
                <div class='row'>
                  <div class='col-md-12'>
                    <div class='form'>
                      <%= form_for @user do |f| %>
                      <div class='form-group'>
                        <%= f.label :username %>
                        <%= f.text_field :username, required: true %>
                      </div>
                      <div class='form-group'>
                        <%= f.label :email, 'Email Address' %>
                        <%= f.email_field :email, required: true %>
                      </div>
                      <div class='form-group'>
                        <%= f.label :password %>
                        <%= f.password_field :password, required: true %>
                      </div>
                      <div class='form-group'>
                        <%= f.label :password_confirmation %>
                        <%= f.password_field :password_confirmation, required: true %>
                      </div>
                      <div class='form-group'>
                        <%= f.submit 'Sign Up', class: 'btn btn-primary btn-block' %>
                      </div>
                      <% end %>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </li>
          <li class='dropdown'>
            <a href='#' class='dropdown-toggle' data-toggle='dropdown'><b>Sign In</b><span class='caret'></span></a>
            <ul class='sign-dp dropdown-menu'>
              <li>
                <div class='row'>
                  <div class='col-md-12'>
                    <div class='form'>
                      <%= form_for(:session, url: sign_in_path)  do |f| %>
                      <div class='form-group'>
                        <%= f.label :username %>
                        <%= f.text_field :username, :required => true %>
                      </div>
                      <div class='form-group'>
                        <%= f.label :password %>
                        <%= f.password_field :password, :required => true %>
                      </div>
                      <div class='form-group'>
                        <%= f.submit 'Sign In', class: 'btn btn-primary btn-block' %>
                      </div>
                      <% end %>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </li>
        <% else %>
          <li class='dropdown'>
            <a href='#' class='dropdown-toggle' data-toggle='dropdown'><b><%= @user.username %></b><span class='caret'></span></a>
            <ul class='sign-dp dropdown-menu'>
              <li class='user'><%= link_to 'Profile', edit_user_path(session[:user_id]) %></li>
              <li class='user'><%= link_to 'Email Preferences', edit_preferences_path(session[:user_id]) %></li>
            </ul>
          </li>
          <li><%= link_to 'Sign Out', sign_out_path, method: :delete %></li>
        <% end %>
      </ul>
    </div>
  </div>
</nav>
